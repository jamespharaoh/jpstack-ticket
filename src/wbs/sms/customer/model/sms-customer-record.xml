<record
	name="smsCustomer"
	type="common">

	<fields>

		<!-- id -->

		<generated-id-field/>

		<!-- identity -->

		<parent-field
			type="smsCustomerManager"/>

		<code-field/>

		<!-- data -->

		<reference-field
			type="number"/>

		<timestamp-field
			name="createdTime"
			column-type="iso"/>

		<timestamp-field
			name="lastActionTime"
			column-type="iso"
			nullable="yes"/>

		<reference-field
			name="activeSession"
			type="smsCustomerSession"
			nullable="yes"/>

		<!-- settings -->

		<date-field
			name="dateOfBirth"
			nullable="yes"/>

		<reference-field
			name="notesText"
			type="text"
			nullable="yes"/>

		<reference-field
			type="smsCustomerAffiliate"
			nullable="yes"/>

		<!-- statistics -->

		<integer-field
			name="numSessions"
			default="0"/>

	</fields>

	<background-processes>

		<background-process
			object-type="sms-customer"
			name="Session timeout"
			description="Time out SMS customer sessions"
			frequency="10 seconds"/>

	</background-processes>

	<event-types>

		<event-type
			name="Sms customer affiliate update message"
			text="Affiliate for %0 set to %1 due to %2"
			admin="no"/>

		<event-type
			name="Sms customer session end manually"
			text="%0 ended session for %1, giving reason %2"
			admin="no"/>

	</event-types>

</record>
